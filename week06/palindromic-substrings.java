package Algorithm.leetcode.leetcode.editor.cn;
//ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ çš„ä»»åŠ¡æ˜¯è®¡ç®—è¿™ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘ä¸ªå›æ–‡å­ä¸²ã€‚
//
// å…·æœ‰ä¸åŒå¼€å§‹ä½ç½®æˆ–ç»“æŸä½ç½®çš„å­ä¸²ï¼Œå³ä½¿æ˜¯ç”±ç›¸åŒçš„å­—ç¬¦ç»„æˆï¼Œä¹Ÿä¼šè¢«è§†ä½œä¸åŒçš„å­ä¸²ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼š"abc"
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šä¸‰ä¸ªå›æ–‡å­ä¸²: "a", "b", "c"
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼š"aaa"
//è¾“å‡ºï¼š6
//è§£é‡Šï¼š6ä¸ªå›æ–‡å­ä¸²: "a", "a", "a", "aa", "aa", "aaa" 
//
// 
//
// æç¤ºï¼š 
//
// 
// è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡ 1000 ã€‚ 
// 
// Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ 
// ğŸ‘ 441 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
//    public static void main(String[] args) {
//        Solution2 s= new Solution2();
//        s.countSubstrings("aaa");
//    }
    // é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/palindromic-substrings/
    public int countSubstrings(String s) {
        // æ—¶é—´å¤æ‚åº¦ï¼šO(N^2),ä¸¤å±‚å¾ªç¯
        // ç©ºé—´å¤æ‚åº¦ï¼šO(1),åªç”¨äº†å¸¸æ•°çº§çš„ç©ºé—´
//        return func1(s);

        // æ—¶é—´å¤æ‚åº¦ï¼šO(N^2),è™½ç„¶æœ‰ä¸‰å±‚å¾ªç¯ï¼Œä½†å®é™…ä¸Šç¬¬äºŒå±‚å¾ªç¯æœ€å¤šéå†2æ¬¡ï¼Œæ‰€ä»¥å®é™…ä¸Šè¿˜æ˜¯ä¸¤å±‚å¾ªç¯
        // ç©ºé—´å¤æ‚åº¦ï¼šO(1),åªç”¨äº†å¸¸æ•°çº§çš„ç©ºé—´
        return func2(s);

    }

    /**
     * æ€è·¯äºŒï¼šæ€è·¯ä¸€çš„å˜ç§ï¼Œæ›´å¥½ç†è§£
     *
     * @param s åŸå­—ç¬¦ä¸²
     * @return æœ€å¤§å›æ–‡å­ä¸²æ•°
     */
    private int func2(String s) {
        // å®šä¹‰ç»“æœ
        int res = 0;
        // è·å–å­—ç¬¦ä¸²é•¿åº¦
        int len = s.length();

        int temp = 2;
        for (int i = 0; i < len; i++) {
            int right;

            if (i == len - 1) {
                temp = 1;
            }
            // å›æ–‡ä¸­å¿ƒåªæœ‰å¯èƒ½æ˜¯å¥‡æ•°ä¸ªæˆ–è€…å¶æ•°ä¸ª
            // å¦‚æœæ˜¯å¥‡æ•°ä¸ªï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä½œä¸ºå›æ–‡ä¸­å¿ƒ
            // å¦‚æœæ˜¯å¶æ•°ä¸ªï¼Œé‚£ä¹ˆå°±æ˜¯ä¸¤ä¸ªå­—ç¬¦ä½œä¸ºå›æ–‡ä¸­å¿ƒ
            for (int j = 0; j < temp; j++) {
                int left = i;
                right = i + j;

                while (left >= 0 && right < len && s.charAt(left) == s.charAt(right)) {
                    --left;
                    ++right;
                    ++res;
                }
            }
        }

        return res;
    }

    /**
     * æ€è·¯ä¸€ï¼šæ‰¾å›æ–‡ä¸­å¿ƒ
     *
     * @param s åŸå­—ç¬¦ä¸²
     * @return æœ€å¤§å›æ–‡å­ä¸²æ•°é‡
     */
    private int func1(String s) {
        // è®°å½•ç»“æœé›†
        int res = 0;
        // è®°å½•é•¿åº¦
        int len = s.length();
        // éå†æ‰¾å‡ºæ‰€æœ‰çš„å›æ–‡ä¸­å¿ƒç‚¹
        // è¿™é‡Œä¸ºä»€ä¹ˆæ˜¯i<2*len-1,å› ä¸ºä½ æƒ³æƒ³ï¼Œä½ çš„å›æ–‡å­ä¸²çš„å›æ–‡ä¸­å¿ƒç‚¹æœ€å¤§çš„å¯èƒ½æ€§å°±æ˜¯åœ¨len-1ä½ç½®
        // ä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦è‡ªå·±ä½œä¸ºå­ä¸²ä»–æ˜¯ä¸€ä¸ªå›æ–‡çš„ã€‚(len - 1) * 2åˆšå¥½æ˜¯2len - 2ã€‚*2æ˜¯å› ä¸ºæˆ‘ä»¬è¦
        // ç­›é€‰å‡ºå¥‡æ•°æƒ…å†µçš„å›æ–‡ä¸­å¿ƒä»¥åŠå¶æ•°æƒ…å†µçš„å›æ–‡ä¸­å¿ƒ
        for (int i = 0; i < 2 * len - 1; i++) {
            // å¾—å‡ºå›æ–‡å·¦ä¸­å¿ƒ
            int left = i / 2;
            // å¾—å‡ºå›æ–‡å³ä¸­å¿ƒ
            int right = left + i % 2;

            // å¦‚æœæ»¡è¶³å›æ–‡è¦æ±‚
            while (left >= 0 && right < len && s.charAt(left) == s.charAt(right)) {
                // å·¦æŒ‡é’ˆå¾€å·¦ç§»åŠ¨ï¼Œå³æŒ‡é’ˆå¾€å³ç§»åŠ¨ï¼Œç»“æœåŠ ä¸€
                --left;
                ++right;
                ++res;
            }
        }

        return res;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
